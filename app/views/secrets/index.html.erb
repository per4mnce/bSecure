<%= grid(@secrets_grid, show_filters: :when_filtered) do |g|
  g.column do |secret|
    link_to("", edit_secret_path(secret), class: 'glyphicon glyphicon-pencil')
  end

  g.column name: 'Category', attribute: 'catname', custom_filter: :auto do |secret|
    secret.catname
  end
  
  g.column name: 'Description', attribute: 'description' do |secret|
    secret.description
  end
  
  g.column name: 'Username', attribute: 'username' do |secret|
    #secret.username
    "Encrypted Text"
  end
  
  g.column name: 'Password', attribute: 'pw' do |secret|
    secret.pw
  end
  
  g.column name: 'URL', attribute: 'url' do |secret|
    secret.url
  end
  
  g.column name: 'Notes', attribute: 'notes' do |secret|
    markdown(secret.notes)
  end
  
  g.column do |secret|
    link_to("", secret, method: :delete, class: 'glyphicon glyphicon-remove', data: { confirm: 'Are you sure you want to delete this record?' })
  end

end -%>

<%= link_to "New", new_secret_path, class: 'btn btn-success' %>
<button class="wg-external-csv-export-button btn btn-success" data-grid-name="g1">Export To CSV</button>
